@* Generator: Template *@
@functions { public dynamic Model { get; set; } }@{
    var dotModule = Model.Module == null ? "" : ("." + Model.Module);
    var modulePath = Model.Module ?? Model.RootNamespace;
    var modulePrefix = (Model.Module == null ? "" : (Model.Module + "/"));
}

[assembly:Serenity.Navigation.NavigationLink(int.MaxValue, "@(modulePrefix)@(Model.ClassName)", typeof(@(Model.RootNamespace)@(dotModule).Pages.@(Model.ClassName)Controller))]

namespace @(Model.RootNamespace)@(dotModule).Pages
{
    using Serenity;
    using Serenity.Web;
    using System.Web.Mvc;

    [RoutePrefix("@(modulePrefix)@(Model.ClassName)"), Route("{action=index}")]
    [PageAuthorize(typeof(Entities.@(Model.RowClassName)))]
    public class @(Model.ClassName)Controller : Controller
    {
        public ActionResult Index()
        {
            return View("~/Modules/@(modulePath)/@(Model.ClassName)/@(Model.ClassName)Index.cshtml");
        }
    }
}